---
import {ViewTransitions} from 'astro:transitions';
import {Theme} from "../components/qwik/theme";
import { Nav } from "../components/qwik/nav";
import "../styles/global.css";

const {title, navProps} = Astro.props;

---

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Hi, I'm Nathan"/>
    <script type="importmap">
        {
            "imports":{
                "interests":"https://nduartech.tiiny.site/dist/bundle2.js",
                "software-eng":"https://nduartech.tiiny.site/dist/bundle.js",
                "solid-js":"https://esm.sh/solid-js@1.8.17"
            }
        }
    </script>
    <ViewTransitions/>
    <script is:inline data-astro-rerun>

        (function () {
            function getTheme() {
                if (typeof window.localStorage && window.localStorage.getItem("theme")) {
                    return window.localStorage.getItem("theme");
                } else if (document.documentElement.dataset.theme) {
                    return document.documentElement.dataset.theme;
                }
                if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                    return "dark";
                }
                return "light";
            }

            function setTheme(theme) {
                document.documentElement.className = theme;
                localStorage.setItem('theme', theme);
            }

            const theme = getTheme();
            if (theme) {
                setTheme(theme);
            } else {
                setTheme('light');
            }
        })();
        window.addEventListener('load', function () {
                let sun = document.getElementById('dayNightSun');
                let moon = document.getElementById('dayNightMoon');
                if (localStorage.getItem('theme') === 'dark') {
                    sun.classList.add('active');
                    moon.classList.add('hidden');
                } else {
                    moon.classList.add('active');
                    sun.classList.add('hidden');
                }
            }
        );

    </script>
    <script is:inline data-astro-rerun>
        document.addEventListener('astro:page-load', function () {
            document.dispatchEvent(new CustomEvent("pageLoad"));
        });
    </script>
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/gh/iconoir-icons/iconoir@main/css/iconoir.css"
    />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
    <meta name="generator" content={Astro.generator}/>
    <title>{title}</title>
</head>
<body class="bg-regal-blue-400 dark:bg-regal-blue-950">
<Nav entries={navProps} />
<Theme></Theme>
<div id="bgBlog"
     class="h-screen w-screen dark:bg-[url('/blog.svg')] bg-[url('/blog-light.svg')] bg-cover bg-bottom min-h-screen min-w-screen overflow-y-hidden">
    <div class="h-full w-full flex flex-col justify-center items-center">
        <div
                class="flex flex-col justify-start items-start bg-gradient-to-br from-[rgba(_0,_163,_255,_0.6)] to-[rgba(_0,_102,_179,_0.9)] backdrop-filter backdrop-blur rounded-[10px] dark:from-[rgba(_15,_23,_42,_0.9)] dark:to-[rgba(_15,_23,_42,_1)] py-10 px-10 overflow-y-scroll md:p-10 lg:p-16 w-[80vw] h-[85vh] lg:h-[85vh] min-h-fit transition">
            <slot />
        </div>
    </div>
</div>
</body>
</html>
